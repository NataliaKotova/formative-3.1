$(document).ready(function(){var e=JSON.parse(apiKey);console.log(e[0]),e=e[0].key,console.log(e);var a="http://newsapi.org/v2/top-headlines?country=nz&apiKey="+e;console.log(a);var l=new Request(a);fetch(l).then(function(e){console.log(e.json())}),$.ajax({url:a,type:"GET",data:"json",success:function(e){console.log(e),console.log(e.articles[0]),function(e){var a;for(document.getElementById("result").innerHTML="",a=0;a<e.length;a++)null===e[a].urlToImage&&(e[a]=e[a+1]),document.getElementById("result").innerHTML+='<div class="card col-lg-4 mb-5"><img src="${array[i].urlToImage}" class="card-img-top" alt="Image"><div class="card-body"><h5 class="card-title"><a href="${array[i].url}" target="blank">${array[i].title}</a></h5><p class="card-text">${array[i].description}</p><div class"d-inline"><small class="d-inline">${array[i].source.name}</small></div></div>'}(e.articles)},error:function(){console.log("error")}})});